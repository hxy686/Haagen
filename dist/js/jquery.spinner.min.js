"use strict";!function(f){f.fn.spinner=function(t){return this.each(function(){var n=f.extend({value:0,min:0},t),e=38,i=40,l=f("<div></div>");l.addClass("spinner");var u=f(this).addClass("value").attr("maxlength","2").val(n.value).bind("keyup paste change",function(a){var t=f(this);a.keyCode==e?r(1):a.keyCode==i?r(-1):v(t)!=l.data("lastValidValue")&&d(t)});u.wrap(l);var a=f('<button class="increase">+</button>').click(function(){r(1)}),s=f('<button class="decrease">-</button>').click(function(){r(-1)});function r(a){u.val(v()+a),d(u)}function d(a){clearTimeout(l.data("timeout"));var t=o(a);c(t)||u.trigger("update",[a,t])}function o(a){var t,e=v();return e<=n.min?s.attr("disabled","disabled"):s.removeAttr("disabled"),a.toggleClass("invalid",c(e)).toggleClass("passive",0===e),c(e)?(t=setTimeout(function(){u.val(l.data("lastValidValue")),o(a)},500),l.data("timeout",t)):l.data("lastValidValue",e),e}function c(a){return isNaN(+a)||a<n.min}function v(a){return a=a||u,parseInt(a.val()||0,10)}o(u),l.data("lastValidValue",n.value),u.before(s),u.after(a)})}}(jQuery);